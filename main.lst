GAS LISTING C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s 			page 1


   1               		.file	"main.c"
   2               		.arch atmega2561
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.text
  11               	.global	SysInitIO
  12               		.type	SysInitIO, @function
  13               	SysInitIO:
  14               	/* prologue: frame size=0 */
  15               	/* prologue end (size=0) */
  16 0000 87EF      		ldi r24,lo8(-9)
  17 0002 84B9      		out 36-0x20,r24
  18 0004 8CE0      		ldi r24,lo8(12)
  19 0006 8AB9      		out 42-0x20,r24
  20 0008 8BB1      		in r24,43-0x20
  21 000a 8C70      		andi r24,lo8(12)
  22 000c 836F      		ori r24,lo8(-13)
  23 000e 8BB9      		out 43-0x20,r24
  24 0010 8EE8      		ldi r24,lo8(-114)
  25 0012 8DB9      		out 45-0x20,r24
  26 0014 8EB1      		in r24,46-0x20
  27 0016 8E78      		andi r24,lo8(-114)
  28 0018 8160      		ori r24,lo8(1)
  29 001a 8EB9      		out 46-0x20,r24
  30 001c 85B7      		in r24,85-0x20
  31 001e 8068      		ori r24,lo8(-128)
  32 0020 85BF      		out 85-0x20,r24
  33 0022 85B7      		in r24,85-0x20
  34 0024 8068      		ori r24,lo8(-128)
  35 0026 85BF      		out 85-0x20,r24
  36 0028 8EE0      		ldi r24,lo8(14)
  37 002a 80BB      		out 48-0x20,r24
  38 002c 81B3      		in r24,49-0x20
  39 002e 8E70      		andi r24,lo8(14)
  40 0030 816F      		ori r24,lo8(-15)
  41 0032 81BB      		out 49-0x20,r24
  42 0034 88E1      		ldi r24,lo8(24)
  43 0036 83BB      		out 51-0x20,r24
  44               	/* epilogue: frame size=0 */
  45 0038 0895      		ret
  46               	/* epilogue end (size=1) */
  47               	/* function SysInitIO size 29 (28) */
  48               		.size	SysInitIO, .-SysInitIO
  49               		.type	SysMainBeatInterrupt, @function
  50               	SysMainBeatInterrupt:
  51               	/* prologue: frame size=0 */
  52               	/* prologue end (size=0) */
  53 003a 0E94 0000 		call KbScan
  54 003e 0E94 0000 		call CardCheckCard
  55               	/* epilogue: frame size=0 */
  56 0042 0895      		ret
  57               	/* epilogue end (size=1) */
GAS LISTING C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s 			page 2


  58               	/* function SysMainBeatInterrupt size 5 (4) */
  59               		.size	SysMainBeatInterrupt, .-SysMainBeatInterrupt
  60               	.global	ToggleBackLight
  61               		.type	ToggleBackLight, @function
  62               	ToggleBackLight:
  63               	/* prologue: frame size=0 */
  64               	/* prologue end (size=0) */
  65 0044 0E94 0000 		call LcdBackLight
  66               	/* epilogue: frame size=0 */
  67 0048 0895      		ret
  68               	/* epilogue end (size=1) */
  69               	/* function ToggleBackLight size 3 (2) */
  70               		.size	ToggleBackLight, .-ToggleBackLight
  71               	.global	checkButtons
  72               		.type	checkButtons, @function
  73               	checkButtons:
  74               	/* prologue: frame size=0 */
  75               	/* prologue end (size=0) */
  76 004a 0E94 0000 		call KbGetKey
  77 004e 8838      		cpi r24,lo8(-120)
  78 0050 01F0      		breq .L10
  79 0052 81E0      		ldi r24,lo8(1)
  80 0054 0E94 0000 		call ToggleBackLight
  81               	.L10:
  82 0058 0895      		ret
  83               	/* epilogue: frame size=0 */
  84               	/* epilogue: noreturn */
  85               	/* epilogue end (size=0) */
  86               	/* function checkButtons size 8 (8) */
  87               		.size	checkButtons, .-checkButtons
  88               	.global	NutAppMain
  89               		.type	NutAppMain, @function
  90               	NutAppMain:
  91               	/* prologue: frame size=18 */
  92 005a 1F93      		push r17
  93 005c CF93      		push r28
  94 005e DF93      		push r29
  95 0060 CDB7      		in r28,__SP_L__
  96 0062 DEB7      		in r29,__SP_H__
  97 0064 6297      		sbiw r28,18
  98 0066 0FB6      		in __tmp_reg__,__SREG__
  99 0068 F894      		cli
 100 006a DEBF      		out __SP_H__,r29
 101 006c 0FBE      		out __SREG__,__tmp_reg__
 102 006e CDBF      		out __SP_L__,r28
 103               	/* prologue end (size=11) */
 104 0070 0E94 0000 		call WatchDogDisable
 105 0074 84E6      		ldi r24,lo8(100)
 106 0076 0E94 0000 		call NutDelay
 107 007a 0E94 0000 		call SysInitIO
 108 007e 0E94 0000 		call SPIinit
 109 0082 0E94 0000 		call LedInit
 110 0086 0E94 0000 		call LcdLowLevelInit
 111 008a 0E94 0000 		call Uart0DriverInit
 112 008e 0E94 0000 		call Uart0DriverStart
 113 0092 0E94 0000 		call LogInit
 114 0096 80E0      		ldi r24,lo8(__c.2556)
GAS LISTING C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s 			page 3


 115 0098 90E0      		ldi r25,hi8(__c.2556)
 116 009a 9F93      		push r25
 117 009c 8F93      		push r24
 118 009e 16EC      		ldi r17,lo8(-58)
 119 00a0 1F93      		push r17
 120 00a2 0E94 0000 		call LogMsg_P
 121 00a6 0E94 0000 		call CardInit
 122 00aa 0E94 0000 		call X12Init
 123 00ae CE01      		movw r24,r28
 124 00b0 0196      		adiw r24,1
 125 00b2 0E94 0000 		call X12RtcGetClock
 126 00b6 0F90      		pop __tmp_reg__
 127 00b8 0F90      		pop __tmp_reg__
 128 00ba 0F90      	 	pop __tmp_reg__
 129 00bc 892B      		or r24,r25
 130 00be 01F4      		brne .L12
 131 00c0 8981      		ldd r24,Y+1
 132 00c2 9A81      		ldd r25,Y+2
 133 00c4 9F93      		push r25
 134 00c6 8F93      		push r24
 135 00c8 8B81      		ldd r24,Y+3
 136 00ca 9C81      		ldd r25,Y+4
 137 00cc 9F93      		push r25
 138 00ce 8F93      		push r24
 139 00d0 8D81      		ldd r24,Y+5
 140 00d2 9E81      		ldd r25,Y+6
 141 00d4 9F93      		push r25
 142 00d6 8F93      		push r24
 143 00d8 80E0      		ldi r24,lo8(__c.2558)
 144 00da 90E0      		ldi r25,hi8(__c.2558)
 145 00dc 9F93      		push r25
 146 00de 8F93      		push r24
 147 00e0 1F93      		push r17
 148 00e2 0E94 0000 		call LogMsg_P
 149 00e6 8DB7      		in r24,__SP_L__
 150 00e8 9EB7      		in r25,__SP_H__
 151 00ea 0996      		adiw r24,9
 152 00ec 0FB6      		in __tmp_reg__,__SREG__
 153 00ee F894      		cli
 154 00f0 9EBF      		out __SP_H__,r25
 155 00f2 0FBE      		out __SREG__,__tmp_reg__
 156 00f4 8DBF      		out __SP_L__,r24
 157               	.L12:
 158 00f6 0E94 0000 		call At45dbInit
 159 00fa 0E94 0000 		call RcInit
 160 00fe 0E94 0000 		call KbInit
 161 0102 40E0      		ldi r20,lo8(0)
 162 0104 50E0      		ldi r21,hi8(0)
 163 0106 60E0      		ldi r22,lo8(gs(SysMainBeatInterrupt))
 164 0108 70E0      		ldi r23,hi8(gs(SysMainBeatInterrupt))
 165 010a 80E0      		ldi r24,lo8(sig_OVERFLOW0)
 166 010c 90E0      		ldi r25,hi8(sig_OVERFLOW0)
 167 010e 0E94 0000 		call NutRegisterIrqHandler
 168 0112 892B      		or r24,r25
 169 0114 01F4      		brne .L14
 170 0116 85B5      		in r24,69-0x20
 171 0118 8460      		ori r24,lo8(4)
GAS LISTING C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s 			page 4


 172 011a 85BD      		out 69-0x20,r24
 173 011c A89A      		sbi 53-0x20,0
 174 011e 8091 6E00 		lds r24,110
 175 0122 8160      		ori r24,lo8(1)
 176 0124 8093 6E00 		sts 110,r24
 177               	.L14:
 178 0128 81E0      		ldi r24,lo8(1)
 179 012a 0E94 0000 		call NutThreadSetPriority
 180               	/* #APP */
 181 012e 7894      		sei
 182               	/* #NOAPP */
 183               	.L16:
 184 0130 0E94 0000 		call checkButtons
 185 0134 00C0      		rjmp .L16
 186               	/* epilogue: frame size=18 */
 187               	/* epilogue: noreturn */
 188               	/* epilogue end (size=0) */
 189               	/* function NutAppMain size 111 (100) */
 190               		.size	NutAppMain, .-NutAppMain
 191               		.section	.progmem.data,"a",@progbits
 192               		.type	__c.2558, @object
 193               		.size	__c.2558, 26
 194               	__c.2558:
 195 0000 5254 4320 		.string	"RTC time [%02d:%02d:%02d]"
 195      7469 6D65 
 195      205B 2530 
 195      3264 3A25 
 195      3032 643A 
 196               		.type	__c.2556, @object
 197               		.size	__c.2556, 12
 198               	__c.2556:
 199 001a 4865 6C6C 		.string	"Hello World"
 199      6F20 576F 
 199      726C 6400 
 200               	/* File "main.c": code  156 = 0x009c ( 142), prologues  11, epilogues   3 */
GAS LISTING C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:3      *ABS*:0000003f __SREG__
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:4      *ABS*:0000003e __SP_H__
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:5      *ABS*:0000003d __SP_L__
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:7      *ABS*:00000001 __zero_reg__
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:13     .text:00000000 SysInitIO
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:50     .text:0000003a SysMainBeatInterrupt
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:62     .text:00000044 ToggleBackLight
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:73     .text:0000004a checkButtons
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:90     .text:0000005a NutAppMain
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:198    .progmem.data:0000001a __c.2556
C:\Users\jeroe\AppData\Local\Temp/ccvOgPPf.s:194    .progmem.data:00000000 __c.2558

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
KbScan
CardCheckCard
LcdBackLight
KbGetKey
WatchDogDisable
NutDelay
SPIinit
LedInit
LcdLowLevelInit
Uart0DriverInit
Uart0DriverStart
LogInit
LogMsg_P
CardInit
X12Init
X12RtcGetClock
At45dbInit
RcInit
KbInit
sig_OVERFLOW0
NutRegisterIrqHandler
NutThreadSetPriority
